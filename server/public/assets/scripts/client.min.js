/*! personal_project 2016-05-04 */
var app=angular.module("dashboardApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/home.html",controller:"HomeController",controllerAs:"hc"}).when("/settings",{templateUrl:"/views/settings.html",controller:"SettingsController",controllerAs:"sc"}),b.html5Mode(!0)}]),app.controller("HomeController",["WeatherService","CalendarService","$http",function(a,b,c){console.log("home controller loaded");var d=this;d.time=moment().format("hh:mm A"),d.umbrellaURL="assets/images/attire/umbrella-light.png",d.shortsURL="assets/images/attire/shorts-light.png",d.pantsURL="assets/images/attire/pants-light.png",d.jacketURL="assets/images/attire/jacket-light.png",d.mittensURL="assets/images/attire/mitten-light.png",d.tshirtURL="assets/images/attire/tshirt-light.png",d.eventList=b.events,d.conditions=a.conditions,d.hourly=a.hourly,b.getCalendarEvents(),a.getWeather()}]),app.controller("SettingsController",["LocationService",function(a){console.log("settings controller loaded");var b=this;b.location={},b.setLocation=function(){a.setLocation(b.location.address,b.location.city,b.location.state,b.location.zip,b.location.weather,b.location.transit)}}]),app.factory("CalendarService",["$http",function(a){var b=[],c=function(){a.get("/calendar").then(function(a){console.log("client side calendar response:",a);var c=[];a.data.map(function(a){var b=moment(a.start).format("HH:mm"),d=moment(a.end).format("HH:mm");c.push({title:a.title,start:b,end:d})}),angular.copy(c,b)})};return{events:b,getCalendarEvents:c}}]),app.factory("WeatherService",["$http",function(a){var b=[],c={},d=function(){a.get("/weather").then(function(a){console.log("client side weather response:",a),angular.copy(a.data.conditionObject,c),angular.copy(a.data.hourlyList,b)})};return{hourly:b,conditions:c,getWeather:d}}]),app.factory("LocationService",["$http",function(a){var b=0,c=function(c,d,e,f,g,h){var i={address:c,city:d,state:e,zip:f,weather:g,transit:h};a.post("/location",i).then(function(a){console.log("location posted successfully"),b=a.status})};return{setLocation:c,locationResponseStatus:b}}]),app.factory("TransitService",["$http",function(a){}]);